{
  "name": "backend",
  "version": "1.0.0",
  "description": "",
  "main": "server.mjs",
  "type": "module",
  "scripts": {
    "start": "node scripts/render-start.mjs",
    "start:minimal": "node server-minimal.mjs",
    "dev": "nodemon server.mjs",
    "dev:mongodb": "node scripts/check-mongodb.mjs && nodemon server.mjs",
    "migrate": "npx sequelize-cli db:migrate --config config/config.cjs --migrations-path migrations --models-path models --env development",
    "migrate:production": "npx sequelize-cli db:migrate --config config/config.cjs --migrations-path migrations --models-path models --env production",
    "migrate:status": "npx sequelize-cli db:migrate:status --config config/config.cjs --migrations-path migrations --models-path models --env production",
    "migrate:undo": "npx sequelize-cli db:migrate:undo --config config/config.cjs --migrations-path migrations --models-path models --env development",
    "build:production": "echo 'Running production database migrations...' && npm run migrate:production && echo 'Migrations completed successfully'",
    "verify:nasm": "node verify-nasm-migrations.mjs",
    "seed": "npx sequelize-cli db:seed:all --config config/config.cjs --seeders-path seeders --models-path models --env development",
    "seed:undo": "npx sequelize-cli db:seed:undo:all --config config/config.cjs --seeders-path seeders --models-path models --env development",
    "db:setup": "npm run migrate && npm run seed",
    "db:reset": "node scripts/reset-db-sequelize.mjs",
    "test:db": "node scripts/test-db.mjs",
    "db:reset-complete": "node scripts/setup-complete.mjs",
    "create-admin": "node scripts/create-admin-user.mjs",
    "fix-admin": "node scripts/fix-admin-user.mjs",
    "reset-password": "node scripts/reset-admin-password.mjs",
    "emergency-fix": "node scripts/direct-password-fix.mjs",
    "verify-password": "node scripts/verify-password.mjs",
    "force-create-admin": "node scripts/force-create-admin.mjs",
    "fix-cart": "node scripts/fix-cart-schema.mjs",
    "migrate-cart": "node scripts/migrate-cart-data.mjs",
    "seed-storefront": "node scripts/seed-storefront-items.mjs",
    "add-user-role": "node scripts/add-user-role.mjs",
    "update-role-enum": "node scripts/manual-update-role-enum.mjs",
    "check-server": "node scripts/check-server-status.mjs",
    "test-registration": "node scripts/test-registration.mjs",
    "verify-admin": "node scripts/verify-admin.mjs",
    "fix-server": "node fix-server.mjs",
    "fix-models": "node fix-remaining-models.mjs",
    "fix-all": "node fix-server.mjs && node fix-remaining-models.mjs",
    "start-fixed": "node fix-server.mjs && node fix-remaining-models.mjs && npm run dev",
    "render-start": "node scripts/render-start.mjs",
    "render-start-emergency": "node scripts/render-start-emergency.mjs",
    "render-start-old": "npx sequelize-cli db:migrate --config config/config.cjs --migrations-path migrations --models-path models --env production && node scripts/adminSeeder.mjs && node server.mjs",
    "migrate-production": "node scripts/run-migrations-production.mjs",
    "verify-deployment": "node scripts/verify-deployment.mjs",
    "render-build": "npm install",
    "production-check": "node scripts/production-check.mjs",
    "install-missing-deps": "node scripts/install-missing-deps.mjs",
    "fix-dependencies": "npm install ioredis && npm run clear-cache-restart",
    "cleanup-packages": "node scripts/cleanup-duplicate-packages.mjs",
    "seed-final-packages": "node seeders/20250517-final-storefront-packages.mjs",
    "fix-duplicate-packages": "npm run cleanup-packages && npm run seed-final-packages",
    "verify-packages": "node ../verify-packages.mjs",
    "fix-storefront-schema": "node scripts/fix-storefront-schema.mjs",
    "manual-db-fix": "node scripts/manual-db-fix.mjs",
    "seed-correct-packages": "node seeders/20250523-correct-session-packages.mjs",
    "seed-debug-packages": "node seeders/20250523-correct-session-packages-debug.mjs",
    "seed-ultra-simple": "node seeders/ultra-simple-seeder.mjs",
    "seed-luxury-packages": "node seeders/luxury-swan-packages.mjs",
    "seed-luxury-production": "node seeders/luxury-swan-packages-production.mjs",
    "verify-session-packages": "node scripts/verify-session-packages.mjs",
    "verify-luxury-packages": "node scripts/verify-luxury-packages.mjs",
    "reset-and-seed-packages": "npm run seed-correct-packages && npm run verify-session-packages",
    "check-packages": "node scripts/check-packages.mjs",
    "test-health": "node scripts/test-backend-health.mjs",
    "verify-env": "node scripts/verify-production-env.mjs",
    "fix-schema": "node scripts/fix-database-schema.mjs",
    "production-seed": "node render-production-seeder.mjs",
    "production-debug": "node render-production-debug.mjs",
    "production-verify": "node render-production-verify.mjs",
    "render-seed": "node render-production-seeder.mjs",
    "render-debug": "node render-production-debug.mjs",
    "render-verify": "node render-production-verify.mjs",
    "check-system-status": "node scripts/check-system-status.mjs",
    "test-auth-system": "node scripts/test-auth-system.mjs",
    "restart-backend": "node scripts/restart-backend.mjs",
    "check-env": "node utils/quickEnvCheck.mjs",
    "check-stripe": "node utils/manualDiagnostics.mjs",
    "production-seed-safe": "node production-luxury-seeder.mjs",
    "verify-store-status": "curl -s ${RENDER_EXTERNAL_URL:-http://localhost:5000}/api/health/store || echo 'Service not available'",
    "setup-admin": "node scripts/ensure-simple-admin.mjs",
    "setup-prod-admin": "node scripts/setup-prod-admin.mjs",
    "setup-prod-admin-raw": "node scripts/setup-prod-admin-raw.mjs",
    "check-users-schema": "node scripts/check-users-schema.mjs",
    "audit-database": "node scripts/audit-database-data.mjs",
    "verify-migrations": "node scripts/verify-migrations.mjs",
    "fix-duplicate-indexes": "node scripts/fix-duplicate-indexes.mjs",
    "mark-completed-migrations": "node scripts/mark-completed-migrations.mjs",
    "test": "vitest run",
    "test:watch": "vitest",
    "test:coverage": "vitest run --coverage"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@anthropic-ai/sdk": "^0.78.0",
    "@aws-sdk/client-s3": "^3.700.0",
    "@aws-sdk/s3-request-presigner": "^3.700.0",
    "@google/generative-ai": "^0.24.1",
    "@sendgrid/mail": "^8.1.4",
    "bcrypt": "^5.1.1",
    "bcryptjs": "^2.4.3",
    "bullmq": "^5.34.0",
    "compression": "^1.8.0",
    "connect-redis": "^9.0.0",
    "cookie-parser": "^1.4.7",
    "cors": "^2.8.5",
    "date-fns": "^3.6.0",
    "dotenv": "^16.4.7",
    "express": "^4.21.2",
    "express-rate-limit": "^7.5.1",
    "express-session": "^1.18.1",
    "express-validator": "^7.2.1",
    "helmet": "^8.1.0",
    "ioredis": "^5.4.1",
    "joi": "^18.0.1",
    "js-yaml": "^4.1.0",
    "jsonwebtoken": "^9.0.2",
    "llama-node": "^0.1.6",
    "moment": "^2.30.1",
    "morgan": "^1.10.0",
    "multer": "^1.4.5-lts.1",
    "nodemailer": "^6.10.0",
    "openai": "^6.16.0",
    "pg": "^8.13.3",
    "pg-hstore": "^2.3.4",
    "react-modal": "^3.16.3",
    "rrule": "^2.7.1",
    "sequelize": "^6.37.5",
    "socket.io": "^4.8.1",
    "stripe": "^17.7.0",
    "swr": "^2.3.2",
    "twilio": "^5.4.5",
    "uuid": "^10.0.0",
    "winston": "^3.17.0",
    "zod": "^3.22.4"
  },
  "devDependencies": {
    "axios": "^1.9.0",
    "chalk": "^5.4.1",
    "concurrently": "^8.2.2",
    "nodemon": "^3.1.11",
    "ora": "^8.2.0",
    "sequelize-cli": "^6.6.2",
    "supertest": "^7.2.2",
    "vitest": "^4.0.18"
  }
}
