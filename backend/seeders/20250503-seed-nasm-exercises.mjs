// backend/seeders/20250503-seed-nasm-exercises.mjs
import { v4 as uuidv4 } from 'uuid';

/**
 * Seeds the database with initial NASM-protocol based exercises
 * Includes foundational exercises for various NASM categories: 
 * core, balance, stability, flexibility, calisthenics, stabilizers, etc.
 */
export async function up(queryInterface, Sequelize) {
  const now = new Date();
  
  // Create the exercises
  const exercises = [
    // Core Exercises
    {
      id: uuidv4(),
      name: 'Basic Plank',
      description: 'A foundational core stability exercise that strengthens the entire front of the body and develops proper alignment.',
      instructions: '1. Start in a push-up position, then bend your elbows and rest your weight on your forearms.\n2. Your body should form a straight line from shoulders to ankles.\n3. Engage your core by sucking your belly button into your spine.\n4. Hold this position for the prescribed time.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'core',
      primaryMuscles: JSON.stringify(['Core', 'Abs']),
      secondaryMuscles: JSON.stringify(['Shoulders', 'Glutes']),
      difficulty: 10,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Avoid if you have wrist issues, shoulder problems, or lower back pain.',
      safetyTips: 'Maintain neutral spine alignment. Don\'t allow your hips to sag or pike up.',
      recommendedSets: 3,
      recommendedReps: 0,
      recommendedDuration: 30,
      restInterval: 60,
      scientificReferences: 'Stuart M. McGill (2010). Core Training: Evidence Translating to Better Performance and Injury Prevention. Strength and Conditioning Journal, 32(3), 33-46.',
      unlockLevel: 0,
      isActive: true,
      isPopular: true,
      experiencePointsEarned: 10,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    {
      id: uuidv4(),
      name: 'Bird Dog',
      description: 'A core stability exercise that helps develop balance, coordination, and spinal stability while training the body to resist rotation.',
      instructions: '1. Start on your hands and knees with a neutral spine.\n2. Slowly extend your right arm forward and your left leg back, keeping your hips square to the ground.\n3. Hold for a count of 5, then return to the start position.\n4. Repeat with the left arm and right leg.\n5. That\'s one rep.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'core',
      primaryMuscles: JSON.stringify(['Core', 'Lower Back']),
      secondaryMuscles: JSON.stringify(['Glutes', 'Shoulders']),
      difficulty: 15,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Avoid if you have acute knee pain or wrist issues.',
      safetyTips: 'Keep your core engaged throughout the movement. Don\'t allow your back to arch or round.',
      recommendedSets: 3,
      recommendedReps: 10,
      recommendedDuration: 0,
      restInterval: 60,
      scientificReferences: 'McGill, S. (2007). Low Back Disorders: Evidence-Based Prevention and Rehabilitation. Human Kinetics.',
      unlockLevel: 5,
      isActive: true,
      isPopular: true,
      experiencePointsEarned: 15,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    // Balance Exercises
    {
      id: uuidv4(),
      name: 'Single Leg Balance',
      description: 'A foundational balance exercise that helps improve proprioception and ankle stability.',
      instructions: '1. Stand tall with good posture.\n2. Lift one foot off the ground, balancing on the other leg.\n3. Hold this position, keeping your pelvis level and your standing knee slightly bent.\n4. For added challenge, close your eyes or add arm movements.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'balance',
      primaryMuscles: JSON.stringify(['Calves', 'Tibialis Anterior']),
      secondaryMuscles: JSON.stringify(['Core', 'Glutes']),
      difficulty: 10,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Use caution if you have balance issues or ankle instability.',
      safetyTips: 'Stand near a wall or sturdy furniture for support if needed.',
      recommendedSets: 3,
      recommendedReps: 0,
      recommendedDuration: 30,
      restInterval: 30,
      scientificReferences: 'Zech, A., Hübscher, M., Vogt, L., Banzer, W., Hänsel, F., & Pfeifer, K. (2009). Balance training for neuromuscular control and performance enhancement: a systematic review. Journal of athletic training, 44(4), 392-403.',
      unlockLevel: 0,
      isActive: true,
      isPopular: true,
      experiencePointsEarned: 10,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    // Stability Exercises
    {
      id: uuidv4(),
      name: 'Bridge Exercise',
      description: 'A fundamental stability exercise that targets the posterior chain and helps establish proper hip function.',
      instructions: '1. Lie on your back with knees bent and feet flat on the floor.\n2. Engage your core and squeeze your glutes to lift your hips until your body forms a straight line from shoulders to knees.\n3. Hold at the top for a moment, then lower back down with control.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'stability',
      primaryMuscles: JSON.stringify(['Glutes', 'Lower Back']),
      secondaryMuscles: JSON.stringify(['Hamstrings', 'Core']),
      difficulty: 10,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Use caution if you have acute lower back pain.',
      safetyTips: 'Keep your core engaged throughout the movement. Don\'t overarch your lower back.',
      recommendedSets: 3,
      recommendedReps: 15,
      recommendedDuration: 0,
      restInterval: 45,
      scientificReferences: 'Lehman, G. J., Hoda, W., & Oliver, S. (2005). Trunk muscle activity during bridging exercises on and off a Swiss ball. Chiropractic & osteopathy, 13, 14.',
      unlockLevel: 0,
      isActive: true,
      isPopular: true,
      experiencePointsEarned: 10,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    // Flexibility Exercises
    {
      id: uuidv4(),
      name: 'Standing Hamstring Stretch',
      description: 'A simple stretch that improves hamstring flexibility and can help alleviate lower back tension.',
      instructions: '1. Stand tall with feet hip-width apart.\n2. Shift your weight to your left leg and place your right heel on the ground in front of you with toes pointing up.\n3. Hinge at the hips to lean your torso forward slightly while keeping your back straight.\n4. Hold the stretch, then switch sides.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'flexibility',
      primaryMuscles: JSON.stringify(['Hamstrings']),
      secondaryMuscles: JSON.stringify(['Lower Back', 'Calves']),
      difficulty: 5,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Avoid forcing the stretch if you feel sharp pain.',
      safetyTips: 'Never bounce in the stretch. Maintain a slight bend in the supporting knee.',
      recommendedSets: 2,
      recommendedReps: 0,
      recommendedDuration: 30,
      restInterval: 15,
      scientificReferences: 'Behm, D. G., & Chaouachi, A. (2011). A review of the acute effects of static and dynamic stretching on performance. European journal of applied physiology, 111(11), 2633-2651.',
      unlockLevel: 0,
      isActive: true,
      isPopular: true,
      experiencePointsEarned: 5,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    // Calisthenics Exercises
    {
      id: uuidv4(),
      name: 'Bodyweight Squat',
      description: 'A fundamental lower body exercise that develops strength, mobility, and function in the legs and hips.',
      instructions: '1. Stand with feet shoulder-width apart, toes slightly turned out.\n2. Bend at the knees and hips to lower your body as if sitting in a chair.\n3. Keep your chest up and your weight in your heels.\n4. Lower until thighs are parallel to the ground, or as low as you can with proper form.\n5. Push through your heels to stand back up.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'calisthenics',
      primaryMuscles: JSON.stringify(['Glutes', 'Quadriceps']),
      secondaryMuscles: JSON.stringify(['Hamstrings', 'Core', 'Calves']),
      difficulty: 10,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Modify if you have knee pain by reducing depth.',
      safetyTips: 'Keep your knees tracking over your toes, not caving inward. Don\'t let your lower back round.',
      recommendedSets: 3,
      recommendedReps: 15,
      recommendedDuration: 0,
      restInterval: 60,
      scientificReferences: 'Schoenfeld, B. J. (2010). Squatting kinematics and kinetics and their application to exercise performance. Journal of strength and conditioning research, 24(12), 3497-3506.',
      unlockLevel: 0,
      isActive: true,
      isPopular: true,
      experiencePointsEarned: 10,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    {
      id: uuidv4(),
      name: 'Forward Lunge',
      description: 'A unilateral lower body exercise that builds leg strength, balance, and coordination.',
      instructions: '1. Stand tall with feet hip-width apart.\n2. Step forward with one leg and lower your body until both knees are bent at approximately 90 degrees.\n3. Your front knee should be over your ankle, not beyond your toes.\n4. Push through the heel of your front foot to return to the starting position.\n5. Repeat with the opposite leg.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'calisthenics',
      primaryMuscles: JSON.stringify(['Quadriceps', 'Glutes']),
      secondaryMuscles: JSON.stringify(['Hamstrings', 'Calves', 'Core']),
      difficulty: 15,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Use caution if you have knee problems or balance issues.',
      safetyTips: 'Keep your torso upright. Don\'t let your front knee cave inward.',
      recommendedSets: 3,
      recommendedReps: 10,
      recommendedDuration: 0,
      restInterval: 60,
      scientificReferences: 'Riemann, B. L., Lapinski, S., Smith, L., & Davies, G. (2012). Biomechanical analysis of the anterior lunge during 4 external-load conditions. Journal of athletic training, 47(4), 372-378.',
      unlockLevel: 5,
      isActive: true,
      isPopular: true,
      experiencePointsEarned: 15,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    {
      id: uuidv4(),
      name: 'Push-up',
      description: 'A compound upper body exercise that strengthens the chest, shoulders, triceps, and core.',
      instructions: '1. Start in a plank position with hands slightly wider than shoulder-width apart.\n2. Keep your body in a straight line from head to heels.\n3. Lower your chest toward the floor by bending your elbows.\n4. Push through your palms to return to the starting position.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'calisthenics',
      primaryMuscles: JSON.stringify(['Chest', 'Triceps', 'Shoulders']),
      secondaryMuscles: JSON.stringify(['Core', 'Serratus Anterior']),
      difficulty: 20,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Modify if you have wrist, elbow, or shoulder pain.',
      safetyTips: 'Keep your core engaged throughout the movement. Don\'t let your hips sag or pike up.',
      recommendedSets: 3,
      recommendedReps: 10,
      recommendedDuration: 0,
      restInterval: 60,
      scientificReferences: 'Contreras, B., Schoenfeld, B., Mike, J., Tiryaki-Sonmez, G., Cronin, J., & Vaino, E. (2012). The biomechanics of the push-up: implications for resistance training programs. Strength & Conditioning Journal, 34(5), 41-46.',
      unlockLevel: 10,
      isActive: true,
      isPopular: true,
      experiencePointsEarned: 20,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    // Isolation Exercises
    {
      id: uuidv4(),
      name: 'Standing Calf Raise',
      description: 'An isolation exercise that targets the calf muscles and improves ankle strength.',
      instructions: '1. Stand with feet hip-width apart, toes pointing forward.\n2. Rise up onto the balls of your feet, lifting your heels as high as possible.\n3. Hold briefly at the top, then lower your heels back to the floor with control.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'isolation',
      primaryMuscles: JSON.stringify(['Calves']),
      secondaryMuscles: JSON.stringify(['Tibialis Anterior']),
      difficulty: 5,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Use caution if you have Achilles tendon issues.',
      safetyTips: 'Maintain balance by lightly touching a wall or stable surface for support if needed.',
      recommendedSets: 3,
      recommendedReps: 15,
      recommendedDuration: 0,
      restInterval: 30,
      scientificReferences: 'Hébert-Losier, K., Schneiders, A. G., Newsham-West, R. J., & Sullivan, S. J. (2009). Scientific bases and clinical utilisation of the calf-raise test. Physical therapy in sport, 10(4), 142-149.',
      unlockLevel: 0,
      isActive: true,
      isPopular: false,
      experiencePointsEarned: 5,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    // Stabilizers Exercises
    {
      id: uuidv4(),
      name: 'Wall Angels',
      description: 'A scapular stabilization exercise that improves shoulder mobility and posture.',
      instructions: '1. Stand with your back against a wall, feet about 6 inches from the wall.\n2. Press your lower back, shoulders, and head against the wall.\n3. Bend your elbows to 90 degrees and place the backs of your hands against the wall.\n4. Slowly slide your arms up the wall into a "Y" position, then back down to the starting position.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'stabilizers',
      primaryMuscles: JSON.stringify(['Shoulders', 'Serratus Anterior']),
      secondaryMuscles: JSON.stringify(['Upper Back', 'Neck']),
      difficulty: 10,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['Wall']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Use caution if you have shoulder impingement.',
      safetyTips: 'Maintain contact between your lower back, shoulders, and head with the wall throughout the movement.',
      recommendedSets: 3,
      recommendedReps: 10,
      recommendedDuration: 0,
      restInterval: 30,
      scientificReferences: 'Kibler, W. B., Sciascia, A. D., Uhl, T. L., Tambay, N., & Cunningham, T. (2008). Electromyographic analysis of specific exercises for scapular control in early phases of shoulder rehabilitation. The American journal of sports medicine, 36(9), 1789-1798.',
      unlockLevel: 5,
      isActive: true,
      isPopular: false,
      experiencePointsEarned: 10,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    // Injury Prevention Exercises
    {
      id: uuidv4(),
      name: 'Hip External Rotation (Clamshell)',
      description: 'A targeted exercise for the hip external rotators that helps prevent knee issues and improves lower body stabilization.',
      instructions: '1. Lie on your side with knees bent at 45 degrees and feet together.\n2. Keep your feet together as you open your top knee like a clamshell.\n3. Hold briefly at the top, then return to the starting position with control.\n4. Complete all reps on one side before switching.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'injury_prevention',
      primaryMuscles: JSON.stringify(['Glutes', 'Hips']),
      secondaryMuscles: JSON.stringify(['Core']),
      difficulty: 5,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Use caution if you have acute hip pain.',
      safetyTips: 'Keep your pelvis stable throughout the movement. Don\'t let your hips roll backward.',
      recommendedSets: 2,
      recommendedReps: 15,
      recommendedDuration: 0,
      restInterval: 30,
      scientificReferences: 'Distefano, L. J., Blackburn, J. T., Marshall, S. W., & Padua, D. A. (2009). Gluteal muscle activation during common therapeutic exercises. Journal of orthopaedic & sports physical therapy, 39(7), 532-540.',
      unlockLevel: 0,
      isActive: true,
      isPopular: false,
      experiencePointsEarned: 5,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    // Injury Recovery Exercises
    {
      id: uuidv4(),
      name: 'Ankle Alphabet',
      description: 'A mobility exercise for ankle rehabilitation that improves range of motion and proprioception.',
      instructions: '1. Sit in a chair with your foot elevated slightly off the floor.\n2. Draw the entire alphabet with your big toe, moving only your ankle (not your leg).\n3. Make the letters as large as comfortably possible without pain.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'injury_recovery',
      primaryMuscles: JSON.stringify(['Tibialis Anterior', 'Calves']),
      secondaryMuscles: JSON.stringify([]),
      difficulty: 5,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['Chair']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Stop if you feel sharp pain. Begin only after acute ankle injury has been treated.',
      safetyTips: 'Move slowly and deliberately. Don\'t force any painful movements.',
      recommendedSets: 1,
      recommendedReps: 1,
      recommendedDuration: 0,
      restInterval: 0,
      scientificReferences: 'Kaminski, T. W., Hertel, J., Amendola, N., Docherty, C. L., Dolan, M. G., Hopkins, J. T., ... & Richie, D. (2013). National Athletic Trainers\' Association position statement: conservative management and prevention of ankle sprains in athletes. Journal of athletic training, 48(4), 528-545.',
      unlockLevel: 0,
      isActive: true,
      isPopular: false,
      experiencePointsEarned: 5,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    },
    // Additional Key NASM Exercises
    {
      id: uuidv4(),
      name: 'Reverse Plank',
      description: 'A posterior chain plank variation that strengthens the back, shoulders, glutes, and hamstrings.',
      instructions: '1. Sit on the floor with legs extended and hands placed behind your hips, fingers pointing toward your feet.\n2. Press into your hands and lift your hips until your body forms a straight line from ankles to shoulders.\n3. Engage your glutes and core, keeping your chest open.\n4. Hold this position for the prescribed time.',
      videoUrl: null,
      imageUrl: null,
      exerciseType: 'core',
      primaryMuscles: JSON.stringify(['Glutes', 'Lower Back', 'Shoulders']),
      secondaryMuscles: JSON.stringify(['Hamstrings', 'Core', 'Triceps']),
      difficulty: 20,
      progressionPath: JSON.stringify([]),
      prerequisites: JSON.stringify([]),
      equipmentNeeded: JSON.stringify(['None']),
      canBePerformedAtHome: true,
      contraindicationNotes: 'Avoid if you have wrist issues, shoulder problems, or acute lower back pain.',
      safetyTips: 'Keep your body in a straight line. Don\'t let your hips sag toward the floor.',
      recommendedSets: 3,
      recommendedReps: 0,
      recommendedDuration: 20,
      restInterval: 60,
      scientificReferences: 'Ekstrom, R. A., Donatelli, R. A., & Carp, K. C. (2007). Electromyographic analysis of core trunk, hip, and thigh muscles during 9 rehabilitation exercises. Journal of orthopaedic & sports physical therapy, 37(12), 754-762.',
      unlockLevel: 10,
      isActive: true,
      isPopular: true,
      experiencePointsEarned: 20,
      targetProgressionRate: 1.0,
      createdAt: now,
      updatedAt: now
    }
  ];
  
  // Insert all the exercises
  return queryInterface.bulkInsert('exercises', exercises, {});
}

/**
 * Rollback seed
 */
export async function down(queryInterface, Sequelize) {
  // Remove all seeded exercises
  return queryInterface.bulkDelete('exercises', null, {});
}
