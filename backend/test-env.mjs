#!/usr/bin/env node\n\n/**\n * Simple Environment Variables Test\n * ================================ \n * Quick test to verify .env file loading\n */\n\nimport dotenv from 'dotenv';\nimport { existsSync } from 'fs';\nimport { fileURLToPath } from 'url';\nimport path from 'path';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n// Load environment variables the same way as server.mjs\nconst projectRootDir = path.resolve(__dirname, '..');\nconst envPath = path.resolve(projectRootDir, '.env');\n\nconsole.log('üîç ENVIRONMENT VARIABLES TEST');\nconsole.log('============================');\nconsole.log(`Project root: ${projectRootDir}`);\nconsole.log(`Env file path: ${envPath}`);\nconsole.log(`Env file exists: ${existsSync(envPath)}`);\n\nif (existsSync(envPath)) {\n  console.log('‚úÖ Loading .env file...');\n  dotenv.config({ path: envPath });\n} else {\n  console.log('‚ùå .env file not found!');\n  process.exit(1);\n}\n\n// Test key environment variables (showing only format, not actual values)\nconsole.log('\\nüìã Environment Variables Check:');\n\nconst testVars = [\n  'STRIPE_SECRET_KEY',\n  'STRIPE_WEBHOOK_SECRET', \n  'VITE_STRIPE_PUBLISHABLE_KEY',\n  'DATABASE_URL',\n  'JWT_SECRET',\n  'NODE_ENV'\n];\n\nfor (const varName of testVars) {\n  const value = process.env[varName];\n  if (value) {\n    const prefix = value.substring(0, Math.min(15, value.length));\n    console.log(`   ‚úÖ ${varName}: ${prefix}... (${value.length} chars)`);\n  } else {\n    console.log(`   ‚ùå ${varName}: NOT FOUND`);\n  }\n}\n\n// Test Stripe key matching\nconst secretKey = process.env.STRIPE_SECRET_KEY;\nconst publishableKey = process.env.VITE_STRIPE_PUBLISHABLE_KEY;\n\nif (secretKey && publishableKey) {\n  const secretEnv = secretKey.includes('_live_') ? 'live' : secretKey.includes('_test_') ? 'test' : 'unknown';\n  const publishableEnv = publishableKey.includes('_live_') ? 'live' : publishableKey.includes('_test_') ? 'test' : 'unknown';\n  \n  console.log('\\nüîó Stripe Key Analysis:');\n  console.log(`   Secret key environment: ${secretEnv}`);\n  console.log(`   Publishable key environment: ${publishableEnv}`);\n  console.log(`   Keys match: ${secretEnv === publishableEnv ? '‚úÖ YES' : '‚ùå NO'}`);\n  \n  if (secretEnv === publishableEnv) {\n    console.log(`\\nüéâ Environment variables loaded successfully!`);\n    console.log(`   Using ${secretEnv.toUpperCase()} Stripe environment`);\n  } else {\n    console.log(`\\n‚ö†Ô∏è Key environment mismatch detected!`);\n  }\n} else {\n  console.log('\\n‚ùå Missing Stripe keys - cannot validate matching');\n}\n\nconsole.log('\\n‚úÖ Environment test completed!');