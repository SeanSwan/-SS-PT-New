{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://swanstudios.com/schemas/client-master-prompt-v3.0.json",
  "title": "SwanStudios Personal Training - Master Prompt Schema v3.0",
  "description": "Comprehensive schema for validating client Master Prompt JSON files. Ensures data integrity, type safety, and completeness for AI-powered training.",
  "type": "object",
  "required": ["version", "client", "goals", "health", "training", "metadata"],
  "properties": {
    "version": {
      "type": "string",
      "const": "3.0",
      "description": "Schema version - must be 3.0"
    },
    "client": {
      "type": "object",
      "required": ["name", "preferredName", "age", "gender", "contact"],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 2,
          "maxLength": 100,
          "description": "Client's full legal name (REDACT before sending to AI)"
        },
        "preferredName": {
          "type": "string",
          "minLength": 1,
          "maxLength": 50,
          "description": "Preferred name or nickname"
        },
        "alias": {
          "type": "string",
          "minLength": 3,
          "maxLength": 50,
          "description": "Spirit Name (celestial alias for AI interactions)",
          "pattern": "^[A-Z][a-zA-Z\\s]+$",
          "examples": ["Orion Ascending", "Stellar Path", "Phoenix Rising"]
        },
        "age": {
          "type": "integer",
          "minimum": 16,
          "maximum": 100,
          "description": "Client's age in years"
        },
        "gender": {
          "type": "string",
          "enum": ["Male", "Female", "Non-binary", "Prefer not to say"],
          "description": "Client's gender identity"
        },
        "bloodType": {
          "type": "string",
          "enum": ["A", "B", "AB", "O", "Unknown"],
          "description": "Blood type (for blood type diet principles)"
        },
        "contact": {
          "type": "object",
          "required": ["phone", "email", "preferredTime"],
          "properties": {
            "phone": {
              "type": "string",
              "pattern": "^[0-9]{3}-[0-9]{3}-[0-9]{4}$",
              "description": "Phone number in format: 555-123-4567"
            },
            "email": {
              "type": "string",
              "format": "email",
              "description": "Client's email address"
            },
            "preferredTime": {
              "type": "string",
              "enum": ["Morning", "Afternoon", "Evening"],
              "description": "Best time to contact client"
            }
          }
        }
      }
    },
    "measurements": {
      "type": "object",
      "required": ["height", "currentWeight"],
      "properties": {
        "height": {
          "type": "object",
          "required": ["feet", "inches"],
          "properties": {
            "feet": {
              "type": "integer",
              "minimum": 4,
              "maximum": 7
            },
            "inches": {
              "type": "integer",
              "minimum": 0,
              "maximum": 11
            }
          }
        },
        "currentWeight": {
          "type": "number",
          "minimum": 80,
          "maximum": 600,
          "description": "Current weight in pounds"
        },
        "targetWeight": {
          "type": "number",
          "minimum": 80,
          "maximum": 600,
          "description": "Target weight in pounds (if goal is weight change)"
        },
        "bodyFatPercentage": {
          "type": "number",
          "minimum": 3,
          "maximum": 60,
          "description": "Body fat percentage (if measured)"
        },
        "lastDexaScan": {
          "type": ["string", "null"],
          "format": "date",
          "description": "Date of last DEXA scan (YYYY-MM-DD) or null"
        }
      }
    },
    "goals": {
      "type": "object",
      "required": ["primary", "why", "successLooksLike", "timeline", "commitmentLevel"],
      "properties": {
        "primary": {
          "type": "string",
          "enum": [
            "Weight loss",
            "Muscle gain",
            "Strength improvement",
            "Pain relief/Injury recovery",
            "Athletic performance",
            "General health/Longevity"
          ]
        },
        "why": {
          "type": "string",
          "minLength": 10,
          "maxLength": 500,
          "description": "Why this goal matters to the client (motivation)"
        },
        "successLooksLike": {
          "type": "string",
          "minLength": 10,
          "maxLength": 500,
          "description": "What success looks like in 6 months"
        },
        "timeline": {
          "type": "string",
          "enum": ["3 months", "6 months", "1 year", "Ongoing"]
        },
        "commitmentLevel": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10,
          "description": "Client's self-reported commitment level (1-10)"
        },
        "pastObstacles": {
          "type": "string",
          "maxLength": 500,
          "description": "What prevented success in the past"
        },
        "supportNeeded": {
          "type": "string",
          "maxLength": 500,
          "description": "What client needs from trainer to succeed"
        }
      }
    },
    "health": {
      "type": "object",
      "required": ["medicalConditions", "underDoctorCare", "doctorCleared"],
      "properties": {
        "medicalConditions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of current medical conditions (diabetes, hypertension, etc.)"
        },
        "underDoctorCare": {
          "type": "boolean",
          "description": "Currently under a doctor's care"
        },
        "doctorCleared": {
          "type": "boolean",
          "description": "Doctor has cleared client for exercise"
        },
        "medications": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["name", "dosage", "frequency"],
            "properties": {
              "name": {"type": "string"},
              "dosage": {"type": "string"},
              "frequency": {"type": "string"}
            }
          }
        },
        "supplements": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["name", "consistent"],
            "properties": {
              "name": {"type": "string"},
              "consistent": {"type": "boolean"}
            }
          }
        },
        "injuries": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["year", "bodyPart", "type", "status"],
            "properties": {
              "year": {
                "type": "integer",
                "minimum": 1960,
                "maximum": 2030
              },
              "bodyPart": {"type": "string"},
              "type": {"type": "string"},
              "status": {
                "type": "string",
                "enum": ["Fully healed", "Ongoing", "Limited", "Unknown"]
              }
            }
          }
        },
        "surgeries": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["year", "surgery", "recoveryStatus"],
            "properties": {
              "year": {
                "type": "integer",
                "minimum": 1960,
                "maximum": 2030
              },
              "surgery": {"type": "string"},
              "recoveryStatus": {
                "type": "string",
                "enum": ["Complete", "Ongoing", "Complications"]
              }
            }
          }
        },
        "currentPain": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["bodyPart", "intensity", "duration", "triggers", "relieves"],
            "properties": {
              "bodyPart": {"type": "string"},
              "intensity": {
                "type": "integer",
                "minimum": 1,
                "maximum": 10
              },
              "duration": {"type": "string"},
              "triggers": {"type": "string"},
              "relieves": {"type": "string"},
              "affectsDailyLife": {"type": "boolean"}
            }
          }
        }
      }
    },
    "nutrition": {
      "type": "object",
      "properties": {
        "currentDiet": {
          "type": "string",
          "enum": ["Very healthy", "Somewhat healthy", "Average", "Poor"]
        },
        "tracksFood": {
          "type": "boolean"
        },
        "trackingApp": {
          "type": ["string", "null"]
        },
        "dailyProtein": {
          "type": "number",
          "minimum": 0,
          "maximum": 500,
          "description": "Current average daily protein intake (grams)"
        },
        "targetProtein": {
          "type": "number",
          "minimum": 0,
          "maximum": 500,
          "description": "Target daily protein intake (grams) - typically 1g per lb body weight"
        },
        "waterIntake": {
          "type": "number",
          "minimum": 0,
          "maximum": 30,
          "description": "Average daily water intake (glasses)"
        },
        "eatingSchedule": {
          "type": "object",
          "properties": {
            "breakfast": {"type": "string", "pattern": "^[0-9]{1,2}:[0-9]{2} [AP]M$"},
            "lunch": {"type": "string", "pattern": "^[0-9]{1,2}:[0-9]{2} [AP]M$"},
            "dinner": {"type": "string", "pattern": "^[0-9]{1,2}:[0-9]{2} [AP]M$"},
            "snacks": {
              "type": "integer",
              "minimum": 0,
              "maximum": 10
            }
          }
        },
        "bloodTypeDiet": {
          "type": "boolean",
          "description": "Interest in blood type diet principles"
        },
        "dietaryPreferences": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "No sugar",
              "Low sodium",
              "Non-GMO",
              "Organic",
              "Gluten-free",
              "Dairy-free",
              "Vegetarian",
              "Vegan",
              "Paleo",
              "Keto",
              "Flexible"
            ]
          }
        },
        "allergies": {
          "type": "array",
          "items": {"type": "string"}
        },
        "lovesFood": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Foods client loves (helps with meal planning)"
        },
        "hatesFood": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Foods client refuses to eat"
        },
        "cooksAtHome": {
          "type": "string",
          "enum": ["Often", "Sometimes", "Rarely", "Never"]
        },
        "mealPrepInterest": {
          "type": "boolean"
        }
      }
    },
    "lifestyle": {
      "type": "object",
      "properties": {
        "sleepHours": {
          "type": "number",
          "minimum": 0,
          "maximum": 16,
          "description": "Average hours of sleep per night"
        },
        "sleepQuality": {
          "type": "string",
          "enum": ["Excellent", "Good", "Fair", "Poor"]
        },
        "stressLevel": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10
        },
        "stressSources": {
          "type": "string",
          "maxLength": 500
        },
        "occupation": {
          "type": "string",
          "maxLength": 100
        },
        "workActivityLevel": {
          "type": "string",
          "enum": ["Sedentary", "Moderate", "Active"]
        },
        "smokes": {
          "type": "boolean"
        },
        "alcoholConsumption": {
          "type": "string",
          "enum": ["None", "Occasionally", "Moderate", "Heavy"]
        }
      }
    },
    "training": {
      "type": "object",
      "required": ["fitnessLevel", "sessionFrequency", "sessionDuration"],
      "properties": {
        "fitnessLevel": {
          "type": "string",
          "enum": [
            "Beginner",
            "Beginner-Intermediate",
            "Intermediate",
            "Advanced"
          ]
        },
        "currentlyWorkingOut": {
          "type": "boolean"
        },
        "workoutsPerWeek": {
          "type": "integer",
          "minimum": 0,
          "maximum": 14
        },
        "workoutTypes": {
          "type": "string",
          "maxLength": 500
        },
        "pastExperience": {
          "type": "array",
          "items": {"type": "string"}
        },
        "previousTrainer": {
          "type": "boolean"
        },
        "previousTrainerExperience": {
          "type": "string",
          "maxLength": 500
        },
        "gymLocation": {
          "type": "string",
          "maxLength": 100
        },
        "favoriteExercises": {
          "type": "array",
          "items": {"type": "string"},
          "minItems": 0,
          "maxItems": 20
        },
        "dislikedExercises": {
          "type": "array",
          "items": {"type": "string"}
        },
        "preferredStyle": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "Heavy weights (strength)",
              "Moderate weights (hypertrophy)",
              "Light weights (endurance)",
              "Bodyweight exercises",
              "Functional training",
              "HIIT",
              "Steady-state cardio"
            ]
          }
        },
        "sessionFrequency": {
          "type": "integer",
          "minimum": 1,
          "maximum": 7,
          "description": "Desired training sessions per week"
        },
        "sessionDuration": {
          "type": "string",
          "enum": ["60 min", "90 min", "Flexible"]
        }
      }
    },
    "baseline": {
      "type": "object",
      "description": "Baseline measurements taken during Session 1",
      "properties": {
        "cardiovascular": {
          "type": "object",
          "properties": {
            "restingHeartRate": {
              "type": "integer",
              "minimum": 40,
              "maximum": 120,
              "description": "Resting heart rate (bpm)"
            },
            "bloodPressure": {
              "type": "object",
              "properties": {
                "systolic": {
                  "type": "integer",
                  "minimum": 80,
                  "maximum": 200
                },
                "diastolic": {
                  "type": "integer",
                  "minimum": 40,
                  "maximum": 130
                }
              }
            }
          }
        },
        "strength": {
          "type": "object",
          "description": "Baseline strength measurements (1RM or max reps)",
          "properties": {
            "benchPress": {
              "type": "object",
              "properties": {
                "weight": {"type": "number", "minimum": 0},
                "reps": {"type": "integer", "minimum": 0}
              }
            },
            "squat": {
              "type": "object",
              "properties": {
                "weight": {"type": "number", "minimum": 0},
                "reps": {"type": "integer", "minimum": 0}
              }
            },
            "deadlift": {
              "type": "object",
              "properties": {
                "weight": {"type": "number", "minimum": 0},
                "reps": {"type": "integer", "minimum": 0}
              }
            },
            "overheadPress": {
              "type": "object",
              "properties": {
                "weight": {"type": "number", "minimum": 0},
                "reps": {"type": "integer", "minimum": 0}
              }
            },
            "pullUps": {
              "type": "object",
              "properties": {
                "reps": {"type": "integer", "minimum": 0},
                "assisted": {"type": "boolean"}
              }
            }
          }
        },
        "rangeOfMotion": {
          "type": "object",
          "description": "ROM measurements in degrees (normal values provided)",
          "properties": {
            "shoulderFlexion": {
              "type": "object",
              "properties": {
                "left": {"type": "number", "minimum": 0, "maximum": 180},
                "right": {"type": "number", "minimum": 0, "maximum": 180},
                "normal": {"type": "number", "const": 180}
              }
            },
            "shoulderAbduction": {
              "type": "object",
              "properties": {
                "left": {"type": "number", "minimum": 0, "maximum": 180},
                "right": {"type": "number", "minimum": 0, "maximum": 180},
                "normal": {"type": "number", "const": 180}
              }
            },
            "hipFlexion": {
              "type": "object",
              "properties": {
                "left": {"type": "number", "minimum": 0, "maximum": 120},
                "right": {"type": "number", "minimum": 0, "maximum": 120},
                "normal": {"type": "number", "const": 120}
              }
            },
            "hipExtension": {
              "type": "object",
              "properties": {
                "left": {"type": "number", "minimum": 0, "maximum": 30},
                "right": {"type": "number", "minimum": 0, "maximum": 30},
                "normal": {"type": "number", "const": 20}
              }
            },
            "ankleDorsiflexion": {
              "type": "object",
              "properties": {
                "left": {"type": "number", "minimum": 0, "maximum": 30},
                "right": {"type": "number", "minimum": 0, "maximum": 30},
                "normal": {"type": "number", "const": 20}
              }
            }
          }
        },
        "flexibility": {
          "type": "object",
          "properties": {
            "sitAndReach": {
              "type": "number",
              "minimum": -20,
              "maximum": 50,
              "description": "Sit-and-reach test result (cm)"
            },
            "shoulderMobility": {
              "type": "boolean",
              "description": "Can clasp hands behind back"
            },
            "hipMobility": {
              "type": "boolean",
              "description": "Can achieve 90/90 position"
            }
          }
        }
      }
    },
    "aiCoaching": {
      "type": "object",
      "properties": {
        "dailyCheckIns": {
          "type": "boolean"
        },
        "checkInTime": {
          "type": "string",
          "pattern": "^[0-9]{1,2}:[0-9]{2} [AP]M$"
        },
        "checkInMethod": {
          "type": "string",
          "enum": ["Text", "Voice", "Both"]
        },
        "aiHelp": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "Daily accountability",
              "Nutrition tracking",
              "Workout reminders",
              "Pain monitoring",
              "Supplement compliance",
              "Motivation and encouragement",
              "Progress tracking",
              "Answering questions"
            ]
          }
        },
        "communicationStyle": {
          "type": "string",
          "enum": ["Direct", "Warm", "Educational", "Balanced"]
        },
        "motivationStyle": {
          "type": "string",
          "enum": ["Tough love", "Compassion", "Remind me why", "Show data"]
        },
        "progressReportFrequency": {
          "type": "string",
          "enum": ["Weekly", "Bi-weekly", "Monthly", "Only when I ask"]
        }
      }
    },
    "visualDiagnostics": {
      "type": "object",
      "properties": {
        "comfortableWithPhotos": {
          "type": "boolean"
        },
        "painPhotos": {
          "type": "boolean"
        },
        "wearable": {
          "type": "string",
          "enum": ["Apple Watch", "Fitbit", "Garmin", "Oura", "Whoop", "None"]
        },
        "wearableIntegration": {
          "type": "boolean"
        }
      }
    },
    "package": {
      "type": "object",
      "required": ["tier", "price", "sessionsPerWeek"],
      "properties": {
        "tier": {
          "type": "string",
          "enum": ["Silver", "Golden", "Rhodium"]
        },
        "price": {
          "type": "number",
          "minimum": 0,
          "maximum": 1000,
          "description": "Monthly price in USD"
        },
        "sessionsPerWeek": {
          "type": "integer",
          "minimum": 1,
          "maximum": 7
        },
        "commitment": {
          "type": "string",
          "enum": ["4-week trial", "12-week program", "6-month commitment", "1-year transformation"]
        },
        "paymentMethod": {
          "type": "string",
          "enum": ["Per session", "Monthly", "Upfront"]
        }
      }
    },
    "notes": {
      "type": "object",
      "properties": {
        "anythingElse": {"type": "string", "maxLength": 1000},
        "mostExcitedAbout": {"type": "string", "maxLength": 500},
        "nervousAbout": {"type": "string", "maxLength": 500},
        "questionsForTrainer": {"type": "string", "maxLength": 500}
      }
    },
    "trainerAssessment": {
      "type": "object",
      "description": "For Sean's use only - post-intake assessment",
      "properties": {
        "healthRisk": {
          "type": "string",
          "enum": ["Low", "Moderate", "High"]
        },
        "doctorClearanceNeeded": {
          "type": "boolean"
        },
        "priorityAreas": {
          "type": "string",
          "maxLength": 500
        },
        "recommendedFrequency": {
          "type": "integer",
          "minimum": 1,
          "maximum": 7
        },
        "recommendedTier": {
          "type": "string",
          "enum": ["Silver", "Golden", "Rhodium"]
        }
      }
    },
    "metadata": {
      "type": "object",
      "required": ["intakeDate", "createdBy"],
      "properties": {
        "intakeDate": {
          "type": "string",
          "format": "date",
          "description": "Date of initial client intake (YYYY-MM-DD)"
        },
        "firstSessionDate": {
          "type": "string",
          "format": "date",
          "description": "Date of first training session (YYYY-MM-DD)"
        },
        "createdBy": {
          "type": "string",
          "const": "SwanStudios Personal Training System v3.0"
        },
        "lastUpdated": {
          "type": "string",
          "format": "date-time",
          "description": "Last update timestamp (ISO 8601)"
        }
      }
    }
  }
}
